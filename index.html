<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>createElement</title>
  </head>
  <body>
    <script>
      const RESERVED_PROPS = { key: true, ref: true };

      function ReactElement(type, key, ref, props) {
        return {
          type,
          key,
          ref,
          props,
        };
      }

      function createElement(type, config, ...children) {
        let props = {};
        let key = null,
          ref = null;

        if (config != null) {
          if (config.key !== undefined) key = "" + config.key;
          if (config.ref !== undefined) ref = config.ref;

          for (let prop in config) {
            if (!RESERVED_PROPS.hasOwnProperty(prop)) {
              props[prop] = config[prop];
            }
          }
        }

        if (children.length === 1) {
          props.children = children[0];
        } else if (children.length > 1) {
          props.children = children;
        }

        if (type && type.defaultProps) {
          for (let prop in type.defaultProps) {
            if (props[prop] === undefined)
              props[prop] = type.defaultProps[prop];
          }
        }

        return ReactElement(type, key, ref, props);
      }

      function ComponentButton1(props) {
        return createElement("button", { color: "red" }, props.children);
      }

      function ComponentButton2(props) {
        return createElement("button", { color: props.color }, props.children);
      }

      const element = createElement(
        "div",
        { id: "delete-account", key: "1" },
        createElement("p", null, "Elements"),
        createElement(ComponentButton1, null, "yes"),
        createElement(ComponentButton2, { color: "blue" }, "no")
      );

      console.log(element);
    </script>
  </body>
</html>
